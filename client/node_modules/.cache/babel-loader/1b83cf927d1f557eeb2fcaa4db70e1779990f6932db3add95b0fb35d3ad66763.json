{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{assignmentsAPI}from'../services/api';import LoadingSpinner from'../components/LoadingSpinner';import{UserGroupIcon,ComputerDesktopIcon,PlusIcon,MagnifyingGlassIcon,EyeIcon,PencilIcon,ArrowPathIcon,CheckCircleIcon,XCircleIcon,ClockIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';import{format}from'date-fns';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Assignments=()=>{var _selectedAssignment$m,_selectedAssignment$d,_selectedAssignment$r;const[assignments,setAssignments]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[showAssignModal,setShowAssignModal]=useState(false);const[selectedAssignment,setSelectedAssignment]=useState(null);const[showReturnModal,setShowReturnModal]=useState(false);// Form state for new assignment\nconst[formData,setFormData]=useState({machineId:'',distributorId:'',retailerId:'',validFrom:'',validTo:'',notes:''});useEffect(()=>{fetchAssignments();},[]);const fetchAssignments=async()=>{try{setLoading(true);const data=await assignmentsAPI.getAll();setAssignments(data);}catch(error){console.error('Error fetching assignments:',error);toast.error('Failed to load assignments');}finally{setLoading(false);}};const handleCreateAssignment=async e=>{e.preventDefault();try{await assignmentsAPI.create(formData);toast.success('Assignment created successfully!');setShowAssignModal(false);setFormData({machineId:'',distributorId:'',retailerId:'',validFrom:'',validTo:'',notes:''});fetchAssignments();}catch(error){console.error('Error creating assignment:',error);toast.error('Failed to create assignment');}};const handleReturnAssignment=async assignmentId=>{try{await assignmentsAPI.return(assignmentId);toast.success('Machine returned successfully!');setShowReturnModal(false);setSelectedAssignment(null);fetchAssignments();}catch(error){console.error('Error returning assignment:',error);toast.error('Failed to return machine');}};const getStatusIcon=status=>{switch(status){case'ACTIVE':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-500\"});case'INACTIVE':return/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 text-red-500\"});case'RETURNED':return/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-5 w-5 text-blue-500\"});case'REASSIGNED':return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-yellow-500\"});default:return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-gray-400\"});}};const getStatusBadge=status=>{switch(status){case'ACTIVE':return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"Active\"});case'INACTIVE':return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"Inactive\"});case'RETURNED':return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:\"Returned\"});case'REASSIGNED':return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"Reassigned\"});default:return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:\"Unknown\"});}};const filteredAssignments=assignments.filter(assignment=>{var _assignment$machine,_assignment$distribut,_assignment$retailer;const matchesSearch=!searchTerm||((_assignment$machine=assignment.machine)===null||_assignment$machine===void 0?void 0:_assignment$machine.serialNumber.toLowerCase().includes(searchTerm.toLowerCase()))||((_assignment$distribut=assignment.distributor)===null||_assignment$distribut===void 0?void 0:_assignment$distribut.name.toLowerCase().includes(searchTerm.toLowerCase()))||((_assignment$retailer=assignment.retailer)===null||_assignment$retailer===void 0?void 0:_assignment$retailer.name.toLowerCase().includes(searchTerm.toLowerCase()))||assignment.id.toLowerCase().includes(searchTerm.toLowerCase());const matchesStatus=statusFilter==='all'||assignment.status===statusFilter;return matchesSearch&&matchesStatus;});const stats={total:assignments.length,active:assignments.filter(a=>a.status==='ACTIVE').length,inactive:assignments.filter(a=>a.status==='INACTIVE').length,returned:assignments.filter(a=>a.status==='RETURNED').length};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Assignments Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Manage machine assignments between distributors and retailers\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAssignModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"New Assignment\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Total Assignments\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:stats.total})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Active\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:stats.active})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-6 w-6 text-red-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:stats.inactive})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Returned\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:stats.returned})]})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 max-w-lg\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search\",className:\"sr-only\",children:\"Search assignments\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"search\",name:\"search\",className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Search by machine, distributor, or retailer...\",type:\"search\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ACTIVE\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"INACTIVE\",children:\"Inactive\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RETURNED\",children:\"Returned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REASSIGNED\",children:\"Reassigned\"})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:[\"Assignments (\",filteredAssignments.length,\")\"]}),filteredAssignments.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Assignment Info\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Machine Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Validity Period\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredAssignments.map(assignment=>{var _assignment$machine2,_assignment$machine3,_assignment$distribut2,_assignment$retailer2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[\"#\",assignment.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:format(new Date(assignment.assignedAt),'MMM d, yyyy')})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ComputerDesktopIcon,{className:\"h-4 w-4 text-blue-600 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:(_assignment$machine2=assignment.machine)===null||_assignment$machine2===void 0?void 0:_assignment$machine2.serialNumber}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(_assignment$machine3=assignment.machine)===null||_assignment$machine3===void 0?void 0:_assignment$machine3.type})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:(_assignment$distribut2=assignment.distributor)===null||_assignment$distribut2===void 0?void 0:_assignment$distribut2.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:((_assignment$retailer2=assignment.retailer)===null||_assignment$retailer2===void 0?void 0:_assignment$retailer2.name)&&`via ${assignment.retailer.name}`})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:assignment.validFrom&&format(new Date(assignment.validFrom),'MMM d, yyyy')}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:assignment.validTo&&`to ${format(new Date(assignment.validTo),'MMM d, yyyy')}`})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(assignment.status),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:getStatusBadge(assignment.status)})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:`/assignments/${assignment.id}`,className:\"text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),assignment.status==='ACTIVE'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedAssignment(assignment);setShowReturnModal(true);},className:\"text-blue-600 hover:text-blue-900\",children:/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-4 w-4\"})})]})})]},assignment.id);})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No assignments found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:searchTerm?'Try adjusting your search terms.':'Get started by creating your first assignment.'})]})]})}),showAssignModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Create New Assignment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateAssignment,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Machine ID *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.machineId,onChange:e=>setFormData({...formData,machineId:e.target.value}),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Enter machine ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Distributor ID *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.distributorId,onChange:e=>setFormData({...formData,distributorId:e.target.value}),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Enter distributor ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Retailer ID (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.retailerId,onChange:e=>setFormData({...formData,retailerId:e.target.value}),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Enter retailer ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Valid From *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",required:true,value:formData.validFrom,onChange:e=>setFormData({...formData,validFrom:e.target.value}),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Valid To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.validTo,onChange:e=>setFormData({...formData,validTo:e.target.value}),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData({...formData,notes:e.target.value}),rows:3,className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Any additional notes...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAssignModal(false),className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Create Assignment\"})]})]})]})})}),showReturnModal&&selectedAssignment&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Return Machine\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Assignment ID\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[\"#\",selectedAssignment.id]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Machine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:(_selectedAssignment$m=selectedAssignment.machine)===null||_selectedAssignment$m===void 0?void 0:_selectedAssignment$m.serialNumber})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Current Assignment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[(_selectedAssignment$d=selectedAssignment.distributor)===null||_selectedAssignment$d===void 0?void 0:_selectedAssignment$d.name,((_selectedAssignment$r=selectedAssignment.retailer)===null||_selectedAssignment$r===void 0?void 0:_selectedAssignment$r.name)&&` → ${selectedAssignment.retailer.name}`]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Are you sure you want to return this machine? This will mark the assignment as returned and make the machine available for new assignments.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowReturnModal(false);setSelectedAssignment(null);},className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReturnAssignment(selectedAssignment.id),className:\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Return Machine\"})]})]})})})]});};export default Assignments;","map":{"version":3,"names":["React","useState","useEffect","Link","assignmentsAPI","LoadingSpinner","UserGroupIcon","ComputerDesktopIcon","PlusIcon","MagnifyingGlassIcon","EyeIcon","PencilIcon","ArrowPathIcon","CheckCircleIcon","XCircleIcon","ClockIcon","ExclamationTriangleIcon","format","toast","jsx","_jsx","jsxs","_jsxs","Assignments","_selectedAssignment$m","_selectedAssignment$d","_selectedAssignment$r","assignments","setAssignments","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","showAssignModal","setShowAssignModal","selectedAssignment","setSelectedAssignment","showReturnModal","setShowReturnModal","formData","setFormData","machineId","distributorId","retailerId","validFrom","validTo","notes","fetchAssignments","data","getAll","error","console","handleCreateAssignment","e","preventDefault","create","success","handleReturnAssignment","assignmentId","return","getStatusIcon","status","className","getStatusBadge","children","filteredAssignments","filter","assignment","_assignment$machine","_assignment$distribut","_assignment$retailer","matchesSearch","machine","serialNumber","toLowerCase","includes","distributor","name","retailer","id","matchesStatus","stats","total","length","active","a","inactive","returned","onClick","htmlFor","placeholder","type","value","onChange","target","map","_assignment$machine2","_assignment$machine3","_assignment$distribut2","_assignment$retailer2","Date","assignedAt","to","onSubmit","required","rows"],"sources":["D:/Imp/Coding/abheepay-pos-management/client/src/pages/Assignments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { assignmentsAPI } from '../services/api';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport {\r\n  UserGroupIcon,\r\n  ComputerDesktopIcon,\r\n  PlusIcon,\r\n  MagnifyingGlassIcon,\r\n  EyeIcon,\r\n  PencilIcon,\r\n  ArrowPathIcon,\r\n  CheckCircleIcon,\r\n  XCircleIcon,\r\n  ClockIcon,\r\n  ExclamationTriangleIcon,\r\n} from '@heroicons/react/24/outline';\r\nimport { format } from 'date-fns';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Assignments = () => {\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [showAssignModal, setShowAssignModal] = useState(false);\r\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\r\n  const [showReturnModal, setShowReturnModal] = useState(false);\r\n\r\n  // Form state for new assignment\r\n  const [formData, setFormData] = useState({\r\n    machineId: '',\r\n    distributorId: '',\r\n    retailerId: '',\r\n    validFrom: '',\r\n    validTo: '',\r\n    notes: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await assignmentsAPI.getAll();\r\n      setAssignments(data);\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n      toast.error('Failed to load assignments');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateAssignment = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await assignmentsAPI.create(formData);\r\n      toast.success('Assignment created successfully!');\r\n      setShowAssignModal(false);\r\n      setFormData({\r\n        machineId: '',\r\n        distributorId: '',\r\n        retailerId: '',\r\n        validFrom: '',\r\n        validTo: '',\r\n        notes: ''\r\n      });\r\n      fetchAssignments();\r\n    } catch (error) {\r\n      console.error('Error creating assignment:', error);\r\n      toast.error('Failed to create assignment');\r\n    }\r\n  };\r\n\r\n  const handleReturnAssignment = async (assignmentId) => {\r\n    try {\r\n      await assignmentsAPI.return(assignmentId);\r\n      toast.success('Machine returned successfully!');\r\n      setShowReturnModal(false);\r\n      setSelectedAssignment(null);\r\n      fetchAssignments();\r\n    } catch (error) {\r\n      console.error('Error returning assignment:', error);\r\n      toast.error('Failed to return machine');\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'ACTIVE':\r\n        return <CheckCircleIcon className=\"h-5 w-5 text-green-500\" />;\r\n      case 'INACTIVE':\r\n        return <XCircleIcon className=\"h-5 w-5 text-red-500\" />;\r\n      case 'RETURNED':\r\n        return <ArrowPathIcon className=\"h-5 w-5 text-blue-500\" />;\r\n      case 'REASSIGNED':\r\n        return <ClockIcon className=\"h-5 w-5 text-yellow-500\" />;\r\n      default:\r\n        return <ClockIcon className=\"h-5 w-5 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    switch (status) {\r\n      case 'ACTIVE':\r\n        return <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">Active</span>;\r\n      case 'INACTIVE':\r\n        return <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">Inactive</span>;\r\n      case 'RETURNED':\r\n        return <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">Returned</span>;\r\n      case 'REASSIGNED':\r\n        return <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">Reassigned</span>;\r\n      default:\r\n        return <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">Unknown</span>;\r\n    }\r\n  };\r\n\r\n  const filteredAssignments = assignments.filter(assignment => {\r\n    const matchesSearch = !searchTerm || \r\n      assignment.machine?.serialNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      assignment.distributor?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      assignment.retailer?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      assignment.id.toLowerCase().includes(searchTerm.toLowerCase());\r\n\r\n    const matchesStatus = statusFilter === 'all' || assignment.status === statusFilter;\r\n\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const stats = {\r\n    total: assignments.length,\r\n    active: assignments.filter(a => a.status === 'ACTIVE').length,\r\n    inactive: assignments.filter(a => a.status === 'INACTIVE').length,\r\n    returned: assignments.filter(a => a.status === 'RETURNED').length,\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Assignments Management</h1>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Manage machine assignments between distributors and retailers\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowAssignModal(true)}\r\n          className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n        >\r\n          <PlusIcon className=\"h-4 w-4 mr-2\" />\r\n          New Assignment\r\n        </button>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\r\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n          <div className=\"p-5\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <UserGroupIcon className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n              <div className=\"ml-5 w-0 flex-1\">\r\n                <dl>\r\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Assignments</dt>\r\n                  <dd className=\"text-lg font-medium text-gray-900\">{stats.total}</dd>\r\n                </dl>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n          <div className=\"p-5\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <CheckCircleIcon className=\"h-6 w-6 text-green-600\" />\r\n              </div>\r\n              <div className=\"ml-5 w-0 flex-1\">\r\n                <dl>\r\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Active</dt>\r\n                  <dd className=\"text-lg font-medium text-gray-900\">{stats.active}</dd>\r\n                </dl>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n          <div className=\"p-5\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <XCircleIcon className=\"h-6 w-6 text-red-600\" />\r\n              </div>\r\n              <div className=\"ml-5 w-0 flex-1\">\r\n                <dl>\r\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Inactive</dt>\r\n                  <dd className=\"text-lg font-medium text-gray-900\">{stats.inactive}</dd>\r\n                </dl>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n          <div className=\"p-5\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <ArrowPathIcon className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n              <div className=\"ml-5 w-0 flex-1\">\r\n                <dl>\r\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Returned</dt>\r\n                  <dd className=\"text-lg font-medium text-gray-900\">{stats.returned}</dd>\r\n                </dl>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters and Search */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\">\r\n            <div className=\"flex-1 max-w-lg\">\r\n              <label htmlFor=\"search\" className=\"sr-only\">Search assignments</label>\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\r\n                </div>\r\n                <input\r\n                  id=\"search\"\r\n                  name=\"search\"\r\n                  className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  placeholder=\"Search by machine, distributor, or retailer...\"\r\n                  type=\"search\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex space-x-2\">\r\n              <select\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n                className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              >\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"ACTIVE\">Active</option>\r\n                <option value=\"INACTIVE\">Inactive</option>\r\n                <option value=\"RETURNED\">Returned</option>\r\n                <option value=\"REASSIGNED\">Reassigned</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Assignments List */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\r\n            Assignments ({filteredAssignments.length})\r\n          </h3>\r\n\r\n          {filteredAssignments.length > 0 ? (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Assignment Info\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Machine Details\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Customer\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Validity Period\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {filteredAssignments.map((assignment) => (\r\n                    <tr key={assignment.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">#{assignment.id}</div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {format(new Date(assignment.assignedAt), 'MMM d, yyyy')}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          <ComputerDesktopIcon className=\"h-4 w-4 text-blue-600 mr-2\" />\r\n                          <div>\r\n                            <div className=\"text-sm text-gray-900\">{assignment.machine?.serialNumber}</div>\r\n                            <div className=\"text-sm text-gray-500\">{assignment.machine?.type}</div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div>\r\n                          <div className=\"text-sm text-gray-900\">{assignment.distributor?.name}</div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            {assignment.retailer?.name && `via ${assignment.retailer.name}`}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {assignment.validFrom && format(new Date(assignment.validFrom), 'MMM d, yyyy')}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {assignment.validTo && `to ${format(new Date(assignment.validTo), 'MMM d, yyyy')}`}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          {getStatusIcon(assignment.status)}\r\n                          <span className=\"ml-2\">{getStatusBadge(assignment.status)}</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <div className=\"flex space-x-2\">\r\n                          <Link\r\n                            to={`/assignments/${assignment.id}`}\r\n                            className=\"text-gray-600 hover:text-gray-900\"\r\n                          >\r\n                            <EyeIcon className=\"h-4 w-4\" />\r\n                          </Link>\r\n                          {assignment.status === 'ACTIVE' && (\r\n                            <button\r\n                              onClick={() => {\r\n                                setSelectedAssignment(assignment);\r\n                                setShowReturnModal(true);\r\n                              }}\r\n                              className=\"text-blue-600 hover:text-blue-900\"\r\n                            >\r\n                              <ArrowPathIcon className=\"h-4 w-4\" />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <UserGroupIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No assignments found</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500\">\r\n                {searchTerm ? 'Try adjusting your search terms.' : 'Get started by creating your first assignment.'}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* New Assignment Modal */}\r\n      {showAssignModal && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Create New Assignment</h3>\r\n              \r\n              <form onSubmit={handleCreateAssignment} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Machine ID *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={formData.machineId}\r\n                    onChange={(e) => setFormData({...formData, machineId: e.target.value})}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    placeholder=\"Enter machine ID\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Distributor ID *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={formData.distributorId}\r\n                    onChange={(e) => setFormData({...formData, distributorId: e.target.value})}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    placeholder=\"Enter distributor ID\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Retailer ID (Optional)\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.retailerId}\r\n                    onChange={(e) => setFormData({...formData, retailerId: e.target.value})}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    placeholder=\"Enter retailer ID\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Valid From *\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      required\r\n                      value={formData.validFrom}\r\n                      onChange={(e) => setFormData({...formData, validFrom: e.target.value})}\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Valid To\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={formData.validTo}\r\n                      onChange={(e) => setFormData({...formData, validTo: e.target.value})}\r\n                      className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Notes\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({...formData, notes: e.target.value})}\r\n                    rows={3}\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                    placeholder=\"Any additional notes...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex justify-end space-x-3 mt-6\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowAssignModal(false)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                  >\r\n                    Create Assignment\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Return Assignment Modal */}\r\n      {showReturnModal && selectedAssignment && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Return Machine</h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Assignment ID\r\n                  </label>\r\n                  <div className=\"text-sm text-gray-900\">#{selectedAssignment.id}</div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Machine\r\n                  </label>\r\n                  <div className=\"text-sm text-gray-900\">{selectedAssignment.machine?.serialNumber}</div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Current Assignment\r\n                  </label>\r\n                  <div className=\"text-sm text-gray-900\">\r\n                    {selectedAssignment.distributor?.name}\r\n                    {selectedAssignment.retailer?.name && ` → ${selectedAssignment.retailer.name}`}\r\n                  </div>\r\n                </div>\r\n\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Are you sure you want to return this machine? This will mark the assignment as returned and make the machine available for new assignments.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3 mt-6\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowReturnModal(false);\r\n                    setSelectedAssignment(null);\r\n                  }}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => handleReturnAssignment(selectedAssignment.id)}\r\n                  className=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                >\r\n                  Return Machine\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Assignments; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}